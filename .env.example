# ==============================================
# CORE APPLICATION SETTINGS
# ==============================================

# Database Configuration
DB_HOST=postgres
DB_PORT=5432
DB_USER=trader
DB_PASSWORD=trader_password
DB_NAME=tradetally

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRES_IN=7d
JWT_EXPIRE=7d

# Application Configuration
NODE_ENV=production
PORT=3000
ENABLE_SWAGGER=true

# Registration Control
# Controls who can sign up for the application
# Options: 'open' (default - anyone can sign up), 'approval' (admin must approve), 'disabled' (no signups)
REGISTRATION_MODE=open

# ==============================================
# MOBILE APP SUPPORT SETTINGS
# ==============================================

# Mobile Authentication Tokens
ACCESS_TOKEN_EXPIRE=15m
REFRESH_TOKEN_EXPIRE=30d

# Device Management
MAX_DEVICES_PER_USER=10
ENABLE_DEVICE_TRACKING=true

# File Upload Configuration
MAX_FILE_SIZE=52428800

# Migration Control
RUN_MIGRATIONS=true

# PostgreSQL Migration Settings
# Set to 'true' to enable automatic PostgreSQL 15 -> 16 migration on startup
AUTO_MIGRATE_POSTGRES=false

# Instance Configuration
INSTANCE_NAME=TradeTally
INSTANCE_URL=https://your-domain.com

# ==============================================
# CORS CONFIGURATION
# ==============================================

# Primary frontend URL
FRONTEND_URL=https://your-domain.com

# Additional CORS origins for mobile apps (comma-separated)
# Examples:
# - For web apps: https://app.yourdomain.com,https://admin.yourdomain.com
# - For mobile dev: http://localhost:3000,http://localhost:8080
# - For staging: https://staging.yourdomain.com
CORS_ORIGINS=

# ==============================================
# EMAIL CONFIGURATION (OPTIONAL)
# ==============================================

# SMTP Settings (leave empty to disable email verification)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=
EMAIL_PASS=
EMAIL_FROM=noreply@tradetally.io

# ==============================================
# FRONTEND BUILD CONFIGURATION
# ==============================================

# Frontend API URL for build time
VITE_API_URL=http://localhost/api

# Analytics Configuration (Optional)
# Set this to your analytics domain (e.g., https://analytics.whitenov.com)
VITE_ANALYTICS_DOMAIN=
VITE_ANALYTICS_SITE_ID=

# PostHog Analytics (Optional - for hosted deployments)
# Leave empty to disable PostHog analytics (recommended for self-hosted instances)
# VITE_POSTHOG_KEY=your_posthog_project_key
# VITE_POSTHOG_HOST=https://app.posthog.com


# Price Monitoring Service
# Set to 'false' to disable real-time price monitoring and alerts
ENABLE_PRICE_MONITORING=true

# ==============================================
# EXTERNAL API INTEGRATIONS
# ==============================================

# Stock Data APIs
# Finnhub - For real-time quotes and CUSIP resolution (get free key at: https://finnhub.io/register)
FINNHUB_API_KEY=your_finnhub_api_key_here

# Alpha Vantage - For trade chart visualization (get free key at: https://www.alphavantage.co/support/#api-key)
ALPHA_VANTAGE_API_KEY=your_alpha_vantage_api_key_here

# OpenFIGI - For reliable CUSIP resolution (Bloomberg's free API - optional but recommended)
# Get free API key at: https://www.openfigi.com/
OPENFIGI_API_KEY=your_openfigi_api_key_here

# AI CUSIP Resolution (Optional - Advanced Users Only)
# WARNING: AI CUSIP resolution is unreliable and may return incorrect mappings
# Self-hosted AI models (Ollama, etc.) cannot access real financial databases
# Only use with cloud-based AI services and verify results manually
ENABLE_AI_CUSIP_RESOLUTION=false

# ==============================================
# GAMIFICATION & BEHAVIORAL ANALYTICS
# ==============================================

# Gamification Features
# Set to 'false' to disable gamification features (leaderboards, achievements, challenges)
ENABLE_GAMIFICATION=true

# Debug Settings
# Set to 'true' to enable debug logging in development
DEBUG=false

# ==============================================
# MOBILE-SPECIFIC FEATURES (FUTURE)
# ==============================================

# Push Notifications (Optional - Requires Apple Developer Account)
# Set to true to enable iOS push notifications for price alerts and trade execution
ENABLE_PUSH_NOTIFICATIONS=false
# Firebase Cloud Messaging server key (Android - Future feature)
FCM_SERVER_KEY=
# Apple Push Notification Service credentials (iOS)
APNS_KEY_ID=        # 10-character Key ID from Apple Developer Portal
APNS_TEAM_ID=       # 10-character Team ID from Apple Developer Portal  
APNS_KEY_PATH=      # Full path to your .p8 key file (e.g., /path/to/AuthKey_ABC123DEFG.p8)

# Feature Flags
ENABLE_MOBILE_SYNC=true
ENABLE_OFFLINE_MODE=true
ENABLE_BIOMETRIC_AUTH=true

# Security Settings
REQUIRE_HTTPS=true
DETAILED_AUTH_ERRORS=false

# ==============================================
# DEPLOYMENT EXAMPLES
# ==============================================

# Example for self-hosted deployment:
# INSTANCE_NAME=MyCompany TradeTally
# INSTANCE_URL=https://tradetally.mycompany.com
# FRONTEND_URL=https://tradetally.mycompany.com
# CORS_ORIGINS=https://tradetally.mycompany.com